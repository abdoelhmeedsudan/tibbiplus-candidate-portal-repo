import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TranslateModule } from '@ngx-translate/core';
import { LanguageService } from '../../../../services/language.service';

@Component({
  selector: 'app-language-switcher',
  standalone: true,
  imports: [CommonModule, TranslateModule],
  template: `
    <button
      (click)="toggleLanguage()"
      class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200"
    >
      <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c-5 0-9-4-9-9s4-9 9-9" />
      </svg>
      <span>{{ currentLanguage() === 'ar' ? 'English' : 'العربية' }}</span>
    </button>
  `
})
export class LanguageSwitcherComponent {
  private languageService = inject(LanguageService);
  
  readonly currentLanguage = this.languageService.getCurrentLanguage();

  toggleLanguage(): void {
    this.languageService.toggleLanguage();
  }
}
