<div class="p-8 bg-gray-50 min-h-screen">
  <div class="max-w-md mx-auto bg-white rounded-lg shadow-md p-6">
    <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">
      {{ translationService.getAuthText('register', 'title') }}
    </h2>
    
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
      
      <!-- First Name -->
      <app-form-field
        [label]="translationService.getAuthText('register', 'first_name')"
        fieldName="firstName"
        [required]="true"
        icon="user"
        [placeholder]="translationService.getPlaceholder('first_name')"
        [control]="registrationForm.get('firstName')"
      ></app-form-field>

      <!-- Last Name -->
      <app-form-field
        [label]="translationService.getAuthText('register', 'last_name')"
        fieldName="lastName"
        [required]="true"
        icon="user"
        [placeholder]="translationService.getPlaceholder('last_name')"
        [control]="registrationForm.get('lastName')"
      ></app-form-field>

      <!-- Email -->
      <app-form-field
        [label]="translationService.getAuthText('register', 'email')"
        fieldName="email"
        type="email"
        [required]="true"
        icon="envelope"
        [placeholder]="translationService.getPlaceholder('email')"
        [control]="registrationForm.get('email')"
      ></app-form-field>

      <!-- Phone -->
      <app-form-field
        [label]="translationService.getAuthText('register', 'phone')"
        fieldName="phone"
        type="tel"
        [required]="true"
        icon="phone"
        [placeholder]="translationService.getPlaceholder('phone')"
        [helpText]="translationService.getHelpText('phone')"
        [control]="registrationForm.get('phone')"
      ></app-form-field>

      <!-- Password -->
      <app-form-field
        [label]="translationService.getAuthText('register', 'password')"
        fieldName="password"
        type="password"
        [required]="true"
        [showPasswordToggle]="true"
        [placeholder]="translationService.getPlaceholder('password')"
        [helpText]="translationService.getHelpText('password')"
        [control]="registrationForm.get('password')"
      ></app-form-field>

      <!-- Confirm Password -->
      <app-form-field
        [label]="translationService.getAuthText('register', 'confirm_password')"
        fieldName="confirmPassword"
        type="password"
        [required]="true"
        [showPasswordToggle]="true"
        [placeholder]="translationService.getPlaceholder('confirm_password')"
        [control]="registrationForm.get('confirmPassword')"
      ></app-form-field>

      <!-- Form Level Errors -->
      <app-form-error
        *ngIf="registrationForm.errors?.['passwordMismatch'] && registrationForm.get('confirmPassword')?.touched"
        [control]="null"
        fieldName="form"
        [customErrorMessages]="{ passwordMismatch: translationService.getValidationMessage('password_mismatch') }"
      ></app-form-error>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="registrationForm.invalid || isLoading"
        class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 font-medium"
      >
        <span *ngIf="isLoading" class="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></span>
        {{ isLoading ? translationService.getAuthText('register', 'submitting') : translationService.getAuthText('register', 'submit') }}
      </button>

      <!-- Login Link -->
      <div class="text-center mt-6">
        <p class="text-gray-600">
          {{ translationService.getAuthText('register', 'already_have_account') }}
          <a routerLink="/auth/login" class="text-blue-600 hover:text-blue-800 font-medium">
            {{ translationService.getAuthText('register', 'sign_in') }}
          </a>
        </p>
      </div>
    </form>

    <!-- Success Message -->
    <div
      *ngIf="successMessage"
      class="mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg"
    >
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div
      *ngIf="errorMessage"
      class="mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"
    >
      {{ errorMessage }}
    </div>
  </div>
</div>
