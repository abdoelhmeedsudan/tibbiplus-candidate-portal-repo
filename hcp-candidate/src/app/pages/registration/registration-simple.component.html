<div class="p-8 bg-gray-50 min-h-screen">
  <div class="max-w-md mx-auto bg-white rounded-lg shadow-md p-6">
    <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">إنشاء حساب جديد</h2>
    
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
      
      <!-- First Name -->
      <app-form-field
        label="الاسم الأول"
        fieldName="firstName"
        [required]="true"
        icon="user"
        placeholder="أدخل اسمك الأول"
        [control]="registrationForm.get('firstName')"
      ></app-form-field>

      <!-- Last Name -->
      <app-form-field
        label="الاسم الأخير"
        fieldName="lastName"
        [required]="true"
        icon="user"
        placeholder="أدخل اسمك الأخير"
        [control]="registrationForm.get('lastName')"
      ></app-form-field>

      <!-- Email -->
      <app-form-field
        label="البريد الإلكتروني"
        fieldName="email"
        type="email"
        [required]="true"
        icon="envelope"
        placeholder="أدخل بريدك الإلكتروني"
        [control]="registrationForm.get('email')"
      ></app-form-field>

      <!-- Phone -->
      <app-form-field
        label="رقم الهاتف"
        fieldName="phone"
        type="tel"
        [required]="true"
        icon="phone"
        placeholder="أدخل رقم هاتفك (05xxxxxxxx)"
        helpText="مثال: 0512345678"
        [control]="registrationForm.get('phone')"
      ></app-form-field>

      <!-- Password -->
      <app-form-field
        label="كلمة المرور"
        fieldName="password"
        type="password"
        [required]="true"
        [showPasswordToggle]="true"
        placeholder="أدخل كلمة المرور"
        helpText="يجب أن تحتوي على حرف كبير وحرف صغير ورقم"
        [control]="registrationForm.get('password')"
      ></app-form-field>

      <!-- Confirm Password -->
      <app-form-field
        label="تأكيد كلمة المرور"
        fieldName="confirmPassword"
        type="password"
        [required]="true"
        [showPasswordToggle]="true"
        placeholder="أكد كلمة المرور"
        [control]="registrationForm.get('confirmPassword')"
        [customErrorMessages]="{ passwordMismatch: 'كلمات المرور غير متطابقة' }"
      ></app-form-field>

      <!-- Form Level Errors -->
      <app-form-error
        *ngIf="registrationForm.errors?.['passwordMismatch'] && registrationForm.get('confirmPassword')?.touched"
        [control]="null"
        fieldName="form"
        [customErrorMessages]="{ passwordMismatch: 'كلمات المرور غير متطابقة' }"
      ></app-form-error>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="registrationForm.invalid || isLoading"
        class="w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200 font-medium"
      >
        <span *ngIf="isLoading" class="inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"></span>
        {{ isLoading ? 'جاري إنشاء الحساب...' : 'إنشاء حساب' }}
      </button>

      <!-- Login Link -->
      <div class="text-center mt-6">
        <p class="text-gray-600">
          لديك حساب بالفعل؟
          <a routerLink="/auth/login" class="text-blue-600 hover:text-blue-800 font-medium">
            تسجيل الدخول
          </a>
        </p>
      </div>
    </form>

    <!-- Success Message -->
    <div
      *ngIf="successMessage"
      class="mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg"
    >
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div
      *ngIf="errorMessage"
      class="mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg"
    >
      {{ errorMessage }}
    </div>
  </div>
</div>
